<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-type" content="text/html; charset=utf-8">
	<title>Platform.js</title>
	<link type="text/css" rel="stylesheet" href="style.css" />
	<script type="text/javascript" src="jquery.js"></script> 
	<script type="text/javascript" charset="utf-8">
		
		var ws = null;
		
		$(document).ready(function() {
		   
			if ("WebSocket" in window) 
			{
			  	ws = new WebSocket("ws://localhost:8000");

				ws.onopen = function() {
					write("Socket opened ...");
				};

			  	ws.onmessage = function (evt) { 
					write(evet.data);
				};

			  	ws.onclose = function() {
					write("Socket closed.");
				};
			} 
			else 
			{
				write("Browser doesn't support WebSockets!");
			}
		});
		
		function write(content) {
			
			$("#output").html("<div class='message'>" +
								"<span class='time'>" + 
									new Date().getHours() + ":" + 
									new Date().getMinutes() + ":" + 
									new Date().getSeconds() + 
								"</span>" + 
								content + 
								"</div>");
		}
		
		$(document).ready(function()
		{
			$("#btnSubmit").click(function () {
				ws.send($('#lblInput').val());
			});
		});

	</script>
	
</head>
<body id="index">
	<div id="content">
		<h1>Platform.js</h1>
		
		<input id="lblInput" size="60" />
		<input id="btnSubmit" type="button" value="Send &rarr;" />
		
		<div id="output"></div>
	</div>
</body>
</html>